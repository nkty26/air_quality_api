Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 36, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 31, in main
    air_quality_checker.parse_cron_entries([entry])
AttributeError: 'AirQualityChecker' object has no attribute 'parse_cron_entries'
Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 36, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 31, in main
    air_quality_checker.parse_cron_entries([entry])
AttributeError: 'AirQualityChecker' object has no attribute 'parse_cron_entries'
Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 36, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 31, in main
    air_quality_checker.parse_cron_entries([entry])
AttributeError: 'AirQualityChecker' object has no attribute 'parse_cron_entries'
Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 36, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 31, in main
    air_quality_checker.parse_cron_entries([entry])
AttributeError: 'AirQualityChecker' object has no attribute 'parse_cron_entries'
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
Error connecting to MySQL database: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',            
            O3_Value FLOAT
        )' at line 12
MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 16:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '23', '136', '0.003', '0.3', '51', '0.018', '0.105')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 16:56:03.132122


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 16:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '23', '136', '0.003', '0.3', '51', '0.018', '0.105')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 16:57:01.812111


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 16:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '23', '136', '0.003', '0.3', '51', '0.018', '0.105')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 16:58:02.614293


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 16:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '23', '136', '0.003', '0.3', '51', '0.018', '0.105')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 16:59:03.324333


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 16:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '23', '136', '0.003', '0.3', '51', '0.018', '0.105')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:00:05.033171


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 16:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '23', '136', '0.003', '0.3', '51', '0.018', '0.105')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:01:05.028102


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 16:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '23', '136', '0.003', '0.3', '51', '0.018', '0.105')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:02:01.812240


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 16:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '23', '136', '0.003', '0.3', '51', '0.018', '0.105')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:03:02.739935


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 16:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '23', '136', '0.003', '0.3', '51', '0.018', '0.105')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:04:02.525738


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 16:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '23', '136', '0.003', '0.3', '51', '0.018', '0.105')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:05:02.800352


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 16:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '23', '136', '0.003', '0.3', '51', '0.018', '0.105')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:06:02.616509


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 16:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '23', '136', '0.003', '0.3', '51', '0.018', '0.105')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:07:02.544949


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 16:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '23', '136', '0.003', '0.3', '51', '0.018', '0.105')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:08:02.591231


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 16:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '23', '136', '0.003', '0.3', '51', '0.018', '0.105')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:09:02.287696


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 16:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '23', '136', '0.003', '0.3', '51', '0.018', '0.105')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:10:05.064193


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 16:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '23', '136', '0.003', '0.3', '51', '0.018', '0.105')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:11:01.863524


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== Timestamp 처리 ========================================================

Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 56, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 40, in main
    schedule = air_quality_data['schedules'].split(" ")[0]
TypeError: list indices must be integers or slices, not str
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== Timestamp 처리 ========================================================

mmmmmmmmmmmmmmmmmmmmmm ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']
Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 56, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 40, in main
    schedule = air_quality_data[0]['schedules'].split(" ")[0]
KeyError: 'schedules'
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== Timestamp 처리 ========================================================

mmmmmmmmmmmmmmmmmmmmmm ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']
Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 56, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 40, in main
    schedule = air_quality_data[0]['schedules'].split(" ")[0]
KeyError: 'schedules'
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== Timestamp 처리 ========================================================

mmmmmmmmmmmmmmmmmmmmmm {'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 56, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 40, in main
    schedule = air_quality_data[0]['schedules'].split(" ")[0]
KeyError: 'schedules'
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== Timestamp 처리 ========================================================

mmmmmmmmmmmmmmmmmmmmmm {'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 56, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 40, in main
    schedule = air_quality_data['schedules'].split(" ")[0]
TypeError: list indices must be integers or slices, not str
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== Timestamp 처리 ========================================================

mmmmmmmmmmmmmmmmmmmmmm {'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
bbbbbbbbbbbbbbbbbbbb */10
Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 57, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 42, in main
    period = extract_period("".join(schedule))
TypeError: extract_period() missing 1 required positional argument: 'input_str'
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== Timestamp 처리 ========================================================

mmmmmmmmmmmmmmmmmmmmmm {'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
bbbbbbbbbbbbbbbbbbbb <class 'str'>
BATCH PERIOD (minutes):  10
Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 57, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 46, in main
    timestamp_dt = datetime.now()
AttributeError: module 'datetime' has no attribute 'now'
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['#*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 #*/10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '#*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '#*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== Timestamp 처리 ========================================================

mmmmmmmmmmmmmmmmmmmmmm {'schedules': '#*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
bbbbbbbbbbbbbbbbbbbb <class 'str'>
BATCH PERIOD (minutes):  10
Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 57, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 46, in main
    timestamp_dt = datetime.now()
AttributeError: module 'datetime' has no attribute 'now'
Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 57, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 27, in main
    config = json.load(config_file)
  File "/home/asicentralcity3/miniforge3/lib/python3.10/json/__init__.py", line 293, in load
    return loads(fp.read(),
  File "/home/asicentralcity3/miniforge3/lib/python3.10/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
  File "/home/asicentralcity3/miniforge3/lib/python3.10/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/home/asicentralcity3/miniforge3/lib/python3.10/json/decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 19 column 5 (char 752)
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '162', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.115', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '71', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.055', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '164', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.116', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '45', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '149', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.110', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '25', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '96', 'no2Value': '0.007', 'numOfRows': '10', 'o3Value': '0.085', 'pageNo': '1', 'pm10Value': '22', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '34', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '174', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.120', 'pageNo': '1', 'pm10Value': '41', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '27', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '51', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '139', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.106', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '119', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.098', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '13', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.014', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '21', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.069', 'pageNo': '1', 'pm10Value': '37', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.011', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 16:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 16:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "23",
        "Khai_Value": "136",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "51",
        "NO2_Value": "0.018",
        "O3_Value": "0.105"
    }
]
======================================================== Timestamp 처리 ========================================================

mmmmmmmmmmmmmmmmmmmmmm {'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
bbbbbbbbbbbbbbbbbbbb <class 'str'>
BATCH PERIOD (minutes):  10
Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 57, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 46, in main
    timestamp_dt = datetime.now()
AttributeError: module 'datetime' has no attribute 'now'
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '124', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.100', 'pageNo': '1', 'pm10Value': '42', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '184', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.124', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '82', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.068', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '179', 'no2Value': '0.020', 'numOfRows': '10', 'o3Value': '0.122', 'pageNo': '1', 'pm10Value': '36', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '104', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.092', 'pageNo': '1', 'pm10Value': '38', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '20', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '99', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.089', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '12', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '54', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.022', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '30', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '167', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.117', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '35', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '78', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.063', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '111', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.095', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '87', 'no2Value': '0.028', 'numOfRows': '10', 'o3Value': '0.074', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

mmmmmmmmmmmmmmmmmmmmmm {'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
bbbbbbbbbbbbbbbbbbbb <class 'str'>
BATCH PERIOD (minutes):  10
Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 57, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 46, in main
    timestamp_dt = datetime.now()
AttributeError: module 'datetime' has no attribute 'now'
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '124', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.100', 'pageNo': '1', 'pm10Value': '42', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '184', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.124', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '82', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.068', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '179', 'no2Value': '0.020', 'numOfRows': '10', 'o3Value': '0.122', 'pageNo': '1', 'pm10Value': '36', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '104', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.092', 'pageNo': '1', 'pm10Value': '38', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '20', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '99', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.089', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '12', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '54', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.022', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '30', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '167', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.117', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '35', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '78', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.063', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '111', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.095', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '87', 'no2Value': '0.028', 'numOfRows': '10', 'o3Value': '0.074', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

mmmmmmmmmmmmmmmmmmmmmm {'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
bbbbbbbbbbbbbbbbbbbb <class 'str'>
BATCH PERIOD (minutes):  10
Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 57, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 46, in main
    timestamp_dt = datetime.now()
AttributeError: module 'datetime' has no attribute 'now'
Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 76, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 49, in main
    filtered_entries = filter_cron_entries(cron_entries)
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 19, in filter_cron_entries
    filtered_entry = parse_cron_entries(arr)
TypeError: parse_cron_entries() missing 1 required positional argument: 'CMD'
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '124', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.100', 'pageNo': '1', 'pm10Value': '42', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '184', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.124', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '82', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.068', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '179', 'no2Value': '0.020', 'numOfRows': '10', 'o3Value': '0.122', 'pageNo': '1', 'pm10Value': '36', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '104', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.092', 'pageNo': '1', 'pm10Value': '38', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '20', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '99', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.089', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '12', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '54', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.022', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '30', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '167', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.117', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '35', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '78', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.063', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '111', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.095', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '87', 'no2Value': '0.028', 'numOfRows': '10', 'o3Value': '0.074', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:25:10.364309


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '124', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.100', 'pageNo': '1', 'pm10Value': '42', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '184', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.124', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '82', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.068', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '179', 'no2Value': '0.020', 'numOfRows': '10', 'o3Value': '0.122', 'pageNo': '1', 'pm10Value': '36', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '104', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.092', 'pageNo': '1', 'pm10Value': '38', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '20', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '99', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.089', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '12', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '54', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.022', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '30', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '167', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.117', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '35', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '78', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.063', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '111', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.095', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '87', 'no2Value': '0.028', 'numOfRows': '10', 'o3Value': '0.074', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 53, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 38, in main
    period = air_quality_checker.extract_period(schedule)
AttributeError: 'AirQualityChecker' object has no attribute 'extract_period'
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '124', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.100', 'pageNo': '1', 'pm10Value': '42', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '184', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.124', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '82', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.068', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '179', 'no2Value': '0.020', 'numOfRows': '10', 'o3Value': '0.122', 'pageNo': '1', 'pm10Value': '36', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '104', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.092', 'pageNo': '1', 'pm10Value': '38', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '20', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '99', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.089', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '12', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '54', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.022', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '30', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '167', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.117', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '35', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '78', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.063', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '111', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.095', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '87', 'no2Value': '0.028', 'numOfRows': '10', 'o3Value': '0.074', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD (minutes):  10
  ======>   timestamp_dt   2024-06-26 17:27:05.471034 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:27 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:27",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:27', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:27:05.551218


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '124', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.100', 'pageNo': '1', 'pm10Value': '42', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '184', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.124', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '82', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.068', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '179', 'no2Value': '0.020', 'numOfRows': '10', 'o3Value': '0.122', 'pageNo': '1', 'pm10Value': '36', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '104', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.092', 'pageNo': '1', 'pm10Value': '38', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '20', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '99', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.089', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '12', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '54', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.022', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '30', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '167', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.117', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '35', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '78', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.063', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '111', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.095', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '87', 'no2Value': '0.028', 'numOfRows': '10', 'o3Value': '0.074', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD (minutes):  10
  ======>   timestamp_dt   2024-06-26 17:28:02.270364 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:28 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:28",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:28', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:28:02.428132


MySQL connection is closed
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ['# Edit this file to introduce tasks to be run by cron.', '# ', '# Each task to run has to be defined through a single line', '# indicating with different fields when the task will be run', '# and what command to run for the task', '# ', '# To define the time you can provide concrete values for', '# minute (m), hour (h), day of month (dom), month (mon),', "# and day of week (dow) or use '*' in these fields (for 'any').", '# ', "# Notice that tasks will be started based on the cron's system", "# daemon's notion of time and timezones.", '# ', '# Output of the crontab jobs (including errors) is sent through', '# email to the user the crontab file belongs to (unless redirected).', '# ', '# For example, you can run a backup of all your user accounts', '# at 5 a.m every week with:', '# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/', '# ', '# For more information see the manual pages of crontab(5) and cron(8)', '# ', '# m h  dom mon dow   command', '*/10 * * * * /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/check_pc_performance/main.py >> /home/asicentralcity3/Workspace/check_pc_performance/check_pc_performance.log 2>&1', '*/15 * * * * cd /home/asicentralcity3/Workspace/weather_forecast/ && /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/weather_forecast/main.py >> /home/asicentralcity3/Workspace/weather_forecast/forecast_weather.log 2>&1', '', '*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd', '* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
Traceback (most recent call last):
  File "/home/asicentralcity3/myenv/lib/python3.10/site-packages/requests/models.py", line 974, in json
    return complexjson.loads(self.text, **kwargs)
  File "/home/asicentralcity3/miniforge3/lib/python3.10/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
  File "/home/asicentralcity3/miniforge3/lib/python3.10/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/home/asicentralcity3/miniforge3/lib/python3.10/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 55, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 35, in main
    air_quality_data = air_quality_checker.main()
  File "/home/asicentralcity3/Workspace/taeyong/get_airquality_api.py", line 170, in main
    self.find_tm()
  File "/home/asicentralcity3/Workspace/taeyong/get_airquality_api.py", line 63, in find_tm
    response = response.json()
  File "/home/asicentralcity3/myenv/lib/python3.10/site-packages/requests/models.py", line 978, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ['# Edit this file to introduce tasks to be run by cron.', '# ', '# Each task to run has to be defined through a single line', '# indicating with different fields when the task will be run', '# and what command to run for the task', '# ', '# To define the time you can provide concrete values for', '# minute (m), hour (h), day of month (dom), month (mon),', "# and day of week (dow) or use '*' in these fields (for 'any').", '# ', "# Notice that tasks will be started based on the cron's system", "# daemon's notion of time and timezones.", '# ', '# Output of the crontab jobs (including errors) is sent through', '# email to the user the crontab file belongs to (unless redirected).', '# ', '# For example, you can run a backup of all your user accounts', '# at 5 a.m every week with:', '# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/', '# ', '# For more information see the manual pages of crontab(5) and cron(8)', '# ', '# m h  dom mon dow   command', '*/10 * * * * /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/check_pc_performance/main.py >> /home/asicentralcity3/Workspace/check_pc_performance/check_pc_performance.log 2>&1', '*/15 * * * * cd /home/asicentralcity3/Workspace/weather_forecast/ && /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/weather_forecast/main.py >> /home/asicentralcity3/Workspace/weather_forecast/forecast_weather.log 2>&1', '', '*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd', '* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
Traceback (most recent call last):
  File "/home/asicentralcity3/myenv/lib/python3.10/site-packages/requests/models.py", line 974, in json
    return complexjson.loads(self.text, **kwargs)
  File "/home/asicentralcity3/miniforge3/lib/python3.10/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
  File "/home/asicentralcity3/miniforge3/lib/python3.10/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/home/asicentralcity3/miniforge3/lib/python3.10/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 55, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 35, in main
    air_quality_data = air_quality_checker.main()
  File "/home/asicentralcity3/Workspace/taeyong/get_airquality_api.py", line 170, in main
    self.find_tm()
  File "/home/asicentralcity3/Workspace/taeyong/get_airquality_api.py", line 63, in find_tm
    response = response.json()
  File "/home/asicentralcity3/myenv/lib/python3.10/site-packages/requests/models.py", line 978, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ['# Edit this file to introduce tasks to be run by cron.', '# ', '# Each task to run has to be defined through a single line', '# indicating with different fields when the task will be run', '# and what command to run for the task', '# ', '# To define the time you can provide concrete values for', '# minute (m), hour (h), day of month (dom), month (mon),', "# and day of week (dow) or use '*' in these fields (for 'any').", '# ', "# Notice that tasks will be started based on the cron's system", "# daemon's notion of time and timezones.", '# ', '# Output of the crontab jobs (including errors) is sent through', '# email to the user the crontab file belongs to (unless redirected).', '# ', '# For example, you can run a backup of all your user accounts', '# at 5 a.m every week with:', '# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/', '# ', '# For more information see the manual pages of crontab(5) and cron(8)', '# ', '# m h  dom mon dow   command', '*/10 * * * * /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/check_pc_performance/main.py >> /home/asicentralcity3/Workspace/check_pc_performance/check_pc_performance.log 2>&1', '*/15 * * * * cd /home/asicentralcity3/Workspace/weather_forecast/ && /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/weather_forecast/main.py >> /home/asicentralcity3/Workspace/weather_forecast/forecast_weather.log 2>&1', '', '*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd', '* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '124', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.100', 'pageNo': '1', 'pm10Value': '42', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '184', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.124', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '82', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.068', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '179', 'no2Value': '0.020', 'numOfRows': '10', 'o3Value': '0.122', 'pageNo': '1', 'pm10Value': '36', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '104', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.092', 'pageNo': '1', 'pm10Value': '38', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '20', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '99', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.089', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '12', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '54', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.022', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '30', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '167', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.117', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '35', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '78', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.063', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '111', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.095', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '87', 'no2Value': '0.028', 'numOfRows': '10', 'o3Value': '0.074', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD (minutes):  10
  ======>   timestamp_dt   2024-06-26 17:31:09.704466 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:31 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:31",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:31', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:31:09.879074


MySQL connection is closed
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ['# Edit this file to introduce tasks to be run by cron.', '# ', '# Each task to run has to be defined through a single line', '# indicating with different fields when the task will be run', '# and what command to run for the task', '# ', '# To define the time you can provide concrete values for', '# minute (m), hour (h), day of month (dom), month (mon),', "# and day of week (dow) or use '*' in these fields (for 'any').", '# ', "# Notice that tasks will be started based on the cron's system", "# daemon's notion of time and timezones.", '# ', '# Output of the crontab jobs (including errors) is sent through', '# email to the user the crontab file belongs to (unless redirected).', '# ', '# For example, you can run a backup of all your user accounts', '# at 5 a.m every week with:', '# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/', '# ', '# For more information see the manual pages of crontab(5) and cron(8)', '# ', '# m h  dom mon dow   command', '*/10 * * * * /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/check_pc_performance/main.py >> /home/asicentralcity3/Workspace/check_pc_performance/check_pc_performance.log 2>&1', '*/15 * * * * cd /home/asicentralcity3/Workspace/weather_forecast/ && /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/weather_forecast/main.py >> /home/asicentralcity3/Workspace/weather_forecast/forecast_weather.log 2>&1', '', '*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd', '* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']
Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 55, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 34, in main
    air_quality_checker.parse_cron_entries([entry])
NameError: name 'entry' is not defined
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ['# Edit this file to introduce tasks to be run by cron.', '# ', '# Each task to run has to be defined through a single line', '# indicating with different fields when the task will be run', '# and what command to run for the task', '# ', '# To define the time you can provide concrete values for', '# minute (m), hour (h), day of month (dom), month (mon),', "# and day of week (dow) or use '*' in these fields (for 'any').", '# ', "# Notice that tasks will be started based on the cron's system", "# daemon's notion of time and timezones.", '# ', '# Output of the crontab jobs (including errors) is sent through', '# email to the user the crontab file belongs to (unless redirected).', '# ', '# For example, you can run a backup of all your user accounts', '# at 5 a.m every week with:', '# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/', '# ', '# For more information see the manual pages of crontab(5) and cron(8)', '# ', '# m h  dom mon dow   command', '*/10 * * * * /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/check_pc_performance/main.py >> /home/asicentralcity3/Workspace/check_pc_performance/check_pc_performance.log 2>&1', '*/15 * * * * cd /home/asicentralcity3/Workspace/weather_forecast/ && /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/weather_forecast/main.py >> /home/asicentralcity3/Workspace/weather_forecast/forecast_weather.log 2>&1', '', '*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd', '* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS */10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 *
Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 55, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 34, in main
    air_quality_checker.parse_cron_entries(filtered_entries[-1])
  File "/home/asicentralcity3/Workspace/taeyong/get_airquality_api.py", line 44, in parse_cron_entries
    self.CRON_JSON['venv_path'] = cron_arr[4]
IndexError: list index out of range
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ['# Edit this file to introduce tasks to be run by cron.', '# ', '# Each task to run has to be defined through a single line', '# indicating with different fields when the task will be run', '# and what command to run for the task', '# ', '# To define the time you can provide concrete values for', '# minute (m), hour (h), day of month (dom), month (mon),', "# and day of week (dow) or use '*' in these fields (for 'any').", '# ', "# Notice that tasks will be started based on the cron's system", "# daemon's notion of time and timezones.", '# ', '# Output of the crontab jobs (including errors) is sent through', '# email to the user the crontab file belongs to (unless redirected).', '# ', '# For example, you can run a backup of all your user accounts', '# at 5 a.m every week with:', '# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/', '# ', '# For more information see the manual pages of crontab(5) and cron(8)', '# ', '# m h  dom mon dow   command', '*/10 * * * * /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/check_pc_performance/main.py >> /home/asicentralcity3/Workspace/check_pc_performance/check_pc_performance.log 2>&1', '*/15 * * * * cd /home/asicentralcity3/Workspace/weather_forecast/ && /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/weather_forecast/main.py >> /home/asicentralcity3/Workspace/weather_forecast/forecast_weather.log 2>&1', '', '*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd', '* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']
ENTRY ENTRY ENTRY */10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '124', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.100', 'pageNo': '1', 'pm10Value': '42', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '184', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.124', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '82', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.068', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '179', 'no2Value': '0.020', 'numOfRows': '10', 'o3Value': '0.122', 'pageNo': '1', 'pm10Value': '36', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '104', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.092', 'pageNo': '1', 'pm10Value': '38', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '20', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '99', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.089', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '12', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '54', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.022', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '30', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '167', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.117', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '35', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '78', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.063', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '111', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.095', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '87', 'no2Value': '0.028', 'numOfRows': '10', 'o3Value': '0.074', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD (minutes):  10
  ======>   timestamp_dt   2024-06-26 17:34:01.928634 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:34 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:34",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:34', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:34:02.108285


MySQL connection is closed
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ['# Edit this file to introduce tasks to be run by cron.', '# ', '# Each task to run has to be defined through a single line', '# indicating with different fields when the task will be run', '# and what command to run for the task', '# ', '# To define the time you can provide concrete values for', '# minute (m), hour (h), day of month (dom), month (mon),', "# and day of week (dow) or use '*' in these fields (for 'any').", '# ', "# Notice that tasks will be started based on the cron's system", "# daemon's notion of time and timezones.", '# ', '# Output of the crontab jobs (including errors) is sent through', '# email to the user the crontab file belongs to (unless redirected).', '# ', '# For example, you can run a backup of all your user accounts', '# at 5 a.m every week with:', '# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/', '# ', '# For more information see the manual pages of crontab(5) and cron(8)', '# ', '# m h  dom mon dow   command', '*/10 * * * * /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/check_pc_performance/main.py >> /home/asicentralcity3/Workspace/check_pc_performance/check_pc_performance.log 2>&1', '*/15 * * * * cd /home/asicentralcity3/Workspace/weather_forecast/ && /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/weather_forecast/main.py >> /home/asicentralcity3/Workspace/weather_forecast/forecast_weather.log 2>&1', '', '*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd', '* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ['# Edit this file to introduce tasks to be run by cron.', '# ', '# Each task to run has to be defined through a single line', '# indicating with different fields when the task will be run', '# and what command to run for the task', '# ', '# To define the time you can provide concrete values for', '# minute (m), hour (h), day of month (dom), month (mon),', "# and day of week (dow) or use '*' in these fields (for 'any').", '# ', "# Notice that tasks will be started based on the cron's system", "# daemon's notion of time and timezones.", '# ', '# Output of the crontab jobs (including errors) is sent through', '# email to the user the crontab file belongs to (unless redirected).', '# ', '# For example, you can run a backup of all your user accounts', '# at 5 a.m every week with:', '# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/', '# ', '# For more information see the manual pages of crontab(5) and cron(8)', '# ', '# m h  dom mon dow   command', '*/10 * * * * /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/check_pc_performance/main.py >> /home/asicentralcity3/Workspace/check_pc_performance/check_pc_performance.log 2>&1', '*/15 * * * * cd /home/asicentralcity3/Workspace/weather_forecast/ && /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/weather_forecast/main.py >> /home/asicentralcity3/Workspace/weather_forecast/forecast_weather.log 2>&1', '', '*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd', '* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']
ENTRY ENTRY ENTRY */10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */10 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/airquality_data;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 airquality_api.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/airquality_data/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/10 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/airquality_data/airquality_api.py', 'cronlog_path': '/home/asicentralcity3/Workspace/airquality_data/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '124', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.100', 'pageNo': '1', 'pm10Value': '42', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '184', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.124', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '82', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.068', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '179', 'no2Value': '0.020', 'numOfRows': '10', 'o3Value': '0.122', 'pageNo': '1', 'pm10Value': '36', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '104', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.092', 'pageNo': '1', 'pm10Value': '38', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '20', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '99', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.089', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '12', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '54', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.022', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '30', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '167', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.117', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '35', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '78', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.063', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '111', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.095', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '87', 'no2Value': '0.028', 'numOfRows': '10', 'o3Value': '0.074', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD (minutes):  10
  ======>   timestamp_dt   2024-06-26 17:37:02.675500 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:37 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:37",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:37', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:37:02.860761


MySQL connection is closed
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ['# Edit this file to introduce tasks to be run by cron.', '# ', '# Each task to run has to be defined through a single line', '# indicating with different fields when the task will be run', '# and what command to run for the task', '# ', '# To define the time you can provide concrete values for', '# minute (m), hour (h), day of month (dom), month (mon),', "# and day of week (dow) or use '*' in these fields (for 'any').", '# ', "# Notice that tasks will be started based on the cron's system", "# daemon's notion of time and timezones.", '# ', '# Output of the crontab jobs (including errors) is sent through', '# email to the user the crontab file belongs to (unless redirected).', '# ', '# For example, you can run a backup of all your user accounts', '# at 5 a.m every week with:', '# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/', '# ', '# For more information see the manual pages of crontab(5) and cron(8)', '# ', '# m h  dom mon dow   command', '*/10 * * * * /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/check_pc_performance/main.py >> /home/asicentralcity3/Workspace/check_pc_performance/check_pc_performance.log 2>&1', '*/15 * * * * cd /home/asicentralcity3/Workspace/weather_forecast/ && /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/weather_forecast/main.py >> /home/asicentralcity3/Workspace/weather_forecast/forecast_weather.log 2>&1', '', '*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd', '* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']
ENTRY ENTRY ENTRY * * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd 
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 * * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/taeyong;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 main.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/taeyong/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd
---------------------------------->     12 

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '124', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.100', 'pageNo': '1', 'pm10Value': '42', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '184', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.124', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '82', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.068', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '179', 'no2Value': '0.020', 'numOfRows': '10', 'o3Value': '0.122', 'pageNo': '1', 'pm10Value': '36', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '104', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.092', 'pageNo': '1', 'pm10Value': '38', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '20', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '99', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.089', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '12', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '54', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.022', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '30', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '167', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.117', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '35', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '78', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.063', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '111', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.095', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '87', 'no2Value': '0.028', 'numOfRows': '10', 'o3Value': '0.074', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD (minutes):  1
  ======>   timestamp_dt   2024-06-26 17:38:02.461225 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:38 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:38",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:38', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:38:02.633717


MySQL connection is closed
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ['# Edit this file to introduce tasks to be run by cron.', '# ', '# Each task to run has to be defined through a single line', '# indicating with different fields when the task will be run', '# and what command to run for the task', '# ', '# To define the time you can provide concrete values for', '# minute (m), hour (h), day of month (dom), month (mon),', "# and day of week (dow) or use '*' in these fields (for 'any').", '# ', "# Notice that tasks will be started based on the cron's system", "# daemon's notion of time and timezones.", '# ', '# Output of the crontab jobs (including errors) is sent through', '# email to the user the crontab file belongs to (unless redirected).', '# ', '# For example, you can run a backup of all your user accounts', '# at 5 a.m every week with:', '# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/', '# ', '# For more information see the manual pages of crontab(5) and cron(8)', '# ', '# m h  dom mon dow   command', '*/10 * * * * /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/check_pc_performance/main.py >> /home/asicentralcity3/Workspace/check_pc_performance/check_pc_performance.log 2>&1', '*/15 * * * * cd /home/asicentralcity3/Workspace/weather_forecast/ && /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/weather_forecast/main.py >> /home/asicentralcity3/Workspace/weather_forecast/forecast_weather.log 2>&1', '', '*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd', '* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']
ENTRY ENTRY ENTRY * * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd 
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 * * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/taeyong;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 main.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/taeyong/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd
---------------------------------->     12 

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '124', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.100', 'pageNo': '1', 'pm10Value': '42', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '184', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.124', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '82', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.068', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '179', 'no2Value': '0.020', 'numOfRows': '10', 'o3Value': '0.122', 'pageNo': '1', 'pm10Value': '36', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '104', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.092', 'pageNo': '1', 'pm10Value': '38', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '20', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '99', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.089', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '12', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '54', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.022', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '30', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '167', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.117', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '35', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '78', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.063', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '111', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.095', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '87', 'no2Value': '0.028', 'numOfRows': '10', 'o3Value': '0.074', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD (minutes):  1
  ======>   timestamp_dt   2024-06-26 17:39:02.212012 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:39 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:39",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:39', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:39:02.392616


MySQL connection is closed
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ['# Edit this file to introduce tasks to be run by cron.', '# ', '# Each task to run has to be defined through a single line', '# indicating with different fields when the task will be run', '# and what command to run for the task', '# ', '# To define the time you can provide concrete values for', '# minute (m), hour (h), day of month (dom), month (mon),', "# and day of week (dow) or use '*' in these fields (for 'any').", '# ', "# Notice that tasks will be started based on the cron's system", "# daemon's notion of time and timezones.", '# ', '# Output of the crontab jobs (including errors) is sent through', '# email to the user the crontab file belongs to (unless redirected).', '# ', '# For example, you can run a backup of all your user accounts', '# at 5 a.m every week with:', '# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/', '# ', '# For more information see the manual pages of crontab(5) and cron(8)', '# ', '# m h  dom mon dow   command', '*/10 * * * * /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/check_pc_performance/main.py >> /home/asicentralcity3/Workspace/check_pc_performance/check_pc_performance.log 2>&1', '*/15 * * * * cd /home/asicentralcity3/Workspace/weather_forecast/ && /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/weather_forecast/main.py >> /home/asicentralcity3/Workspace/weather_forecast/forecast_weather.log 2>&1', '', '*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd', '* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']
ENTRY ENTRY ENTRY * * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd 
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 * * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/taeyong;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 main.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/taeyong/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd
---------------------------------->     12 

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
Traceback (most recent call last):
  File "/home/asicentralcity3/myenv/lib/python3.10/site-packages/requests/models.py", line 974, in json
    return complexjson.loads(self.text, **kwargs)
  File "/home/asicentralcity3/miniforge3/lib/python3.10/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
  File "/home/asicentralcity3/miniforge3/lib/python3.10/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/home/asicentralcity3/miniforge3/lib/python3.10/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 56, in <module>
    main()
  File "/home/asicentralcity3/Workspace/taeyong/main.py", line 36, in main
    air_quality_data = air_quality_checker.main()
  File "/home/asicentralcity3/Workspace/taeyong/get_airquality_api.py", line 171, in main
    stations = self.근접측정소정보()
  File "/home/asicentralcity3/Workspace/taeyong/get_airquality_api.py", line 86, in 근접측정소정보
    response = res.json()
  File "/home/asicentralcity3/myenv/lib/python3.10/site-packages/requests/models.py", line 978, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ['# Edit this file to introduce tasks to be run by cron.', '# ', '# Each task to run has to be defined through a single line', '# indicating with different fields when the task will be run', '# and what command to run for the task', '# ', '# To define the time you can provide concrete values for', '# minute (m), hour (h), day of month (dom), month (mon),', "# and day of week (dow) or use '*' in these fields (for 'any').", '# ', "# Notice that tasks will be started based on the cron's system", "# daemon's notion of time and timezones.", '# ', '# Output of the crontab jobs (including errors) is sent through', '# email to the user the crontab file belongs to (unless redirected).', '# ', '# For example, you can run a backup of all your user accounts', '# at 5 a.m every week with:', '# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/', '# ', '# For more information see the manual pages of crontab(5) and cron(8)', '# ', '# m h  dom mon dow   command', '*/10 * * * * /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/check_pc_performance/main.py >> /home/asicentralcity3/Workspace/check_pc_performance/check_pc_performance.log 2>&1', '*/15 * * * * cd /home/asicentralcity3/Workspace/weather_forecast/ && /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/weather_forecast/main.py >> /home/asicentralcity3/Workspace/weather_forecast/forecast_weather.log 2>&1', '', '*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd', '* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']
ENTRY ENTRY ENTRY * * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd 
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 * * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/taeyong;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 main.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/taeyong/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd
---------------------------------->     12 

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '124', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.100', 'pageNo': '1', 'pm10Value': '42', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '184', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.124', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '82', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.068', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '179', 'no2Value': '0.020', 'numOfRows': '10', 'o3Value': '0.122', 'pageNo': '1', 'pm10Value': '36', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '104', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.092', 'pageNo': '1', 'pm10Value': '38', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '20', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '99', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.089', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '12', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '54', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.022', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '30', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '167', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.117', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '35', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '78', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.063', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '111', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.095', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '87', 'no2Value': '0.028', 'numOfRows': '10', 'o3Value': '0.074', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD (minutes):  1
  ======>   timestamp_dt   2024-06-26 17:41:02.921212 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:41 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:41",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:41', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:41:03.068355


MySQL connection is closed
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ['# Edit this file to introduce tasks to be run by cron.', '# ', '# Each task to run has to be defined through a single line', '# indicating with different fields when the task will be run', '# and what command to run for the task', '# ', '# To define the time you can provide concrete values for', '# minute (m), hour (h), day of month (dom), month (mon),', "# and day of week (dow) or use '*' in these fields (for 'any').", '# ', "# Notice that tasks will be started based on the cron's system", "# daemon's notion of time and timezones.", '# ', '# Output of the crontab jobs (including errors) is sent through', '# email to the user the crontab file belongs to (unless redirected).', '# ', '# For example, you can run a backup of all your user accounts', '# at 5 a.m every week with:', '# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/', '# ', '# For more information see the manual pages of crontab(5) and cron(8)', '# ', '# m h  dom mon dow   command', '*/10 * * * * /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/check_pc_performance/main.py >> /home/asicentralcity3/Workspace/check_pc_performance/check_pc_performance.log 2>&1', '*/15 * * * * cd /home/asicentralcity3/Workspace/weather_forecast/ && /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/weather_forecast/main.py >> /home/asicentralcity3/Workspace/weather_forecast/forecast_weather.log 2>&1', '', '*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd', '* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']
ENTRY ENTRY ENTRY * * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd 
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 * * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/taeyong;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 main.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/taeyong/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd
---------------------------------->     12 

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '124', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.100', 'pageNo': '1', 'pm10Value': '42', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '184', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.124', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '82', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.068', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '179', 'no2Value': '0.020', 'numOfRows': '10', 'o3Value': '0.122', 'pageNo': '1', 'pm10Value': '36', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '104', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.092', 'pageNo': '1', 'pm10Value': '38', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '20', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '99', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.089', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '12', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '54', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.022', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '30', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '167', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.117', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '35', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '78', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.063', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '111', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.095', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '87', 'no2Value': '0.028', 'numOfRows': '10', 'o3Value': '0.074', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD (minutes):  1
  ======>   timestamp_dt   2024-06-26 17:42:01.707761 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:42 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:42",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:42', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:42:01.852154


MySQL connection is closed
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ['# Edit this file to introduce tasks to be run by cron.', '# ', '# Each task to run has to be defined through a single line', '# indicating with different fields when the task will be run', '# and what command to run for the task', '# ', '# To define the time you can provide concrete values for', '# minute (m), hour (h), day of month (dom), month (mon),', "# and day of week (dow) or use '*' in these fields (for 'any').", '# ', "# Notice that tasks will be started based on the cron's system", "# daemon's notion of time and timezones.", '# ', '# Output of the crontab jobs (including errors) is sent through', '# email to the user the crontab file belongs to (unless redirected).', '# ', '# For example, you can run a backup of all your user accounts', '# at 5 a.m every week with:', '# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/', '# ', '# For more information see the manual pages of crontab(5) and cron(8)', '# ', '# m h  dom mon dow   command', '*/10 * * * * /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/check_pc_performance/main.py >> /home/asicentralcity3/Workspace/check_pc_performance/check_pc_performance.log 2>&1', '*/15 * * * * cd /home/asicentralcity3/Workspace/weather_forecast/ && /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/weather_forecast/main.py >> /home/asicentralcity3/Workspace/weather_forecast/forecast_weather.log 2>&1', '', '*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd', '* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']
ENTRY ENTRY ENTRY * * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd 
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 * * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/taeyong;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 main.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/taeyong/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd
---------------------------------->     12 

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '124', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.100', 'pageNo': '1', 'pm10Value': '42', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '184', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.124', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '82', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.068', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '179', 'no2Value': '0.020', 'numOfRows': '10', 'o3Value': '0.122', 'pageNo': '1', 'pm10Value': '36', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '104', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.092', 'pageNo': '1', 'pm10Value': '38', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '20', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '99', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.089', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '12', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '54', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.022', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '30', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '167', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.117', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '35', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '78', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.063', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '111', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.095', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '87', 'no2Value': '0.028', 'numOfRows': '10', 'o3Value': '0.074', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD (minutes):  1
  ======>   timestamp_dt   2024-06-26 17:43:02.496994 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:43 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:43",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:43', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:43:02.648284


MySQL connection is closed
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ['# Edit this file to introduce tasks to be run by cron.', '# ', '# Each task to run has to be defined through a single line', '# indicating with different fields when the task will be run', '# and what command to run for the task', '# ', '# To define the time you can provide concrete values for', '# minute (m), hour (h), day of month (dom), month (mon),', "# and day of week (dow) or use '*' in these fields (for 'any').", '# ', "# Notice that tasks will be started based on the cron's system", "# daemon's notion of time and timezones.", '# ', '# Output of the crontab jobs (including errors) is sent through', '# email to the user the crontab file belongs to (unless redirected).', '# ', '# For example, you can run a backup of all your user accounts', '# at 5 a.m every week with:', '# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/', '# ', '# For more information see the manual pages of crontab(5) and cron(8)', '# ', '# m h  dom mon dow   command', '*/10 * * * * /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/check_pc_performance/main.py >> /home/asicentralcity3/Workspace/check_pc_performance/check_pc_performance.log 2>&1', '*/15 * * * * cd /home/asicentralcity3/Workspace/weather_forecast/ && /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/weather_forecast/main.py >> /home/asicentralcity3/Workspace/weather_forecast/forecast_weather.log 2>&1', '', '*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd', '* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']
ENTRY ENTRY ENTRY * * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd 
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 * * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/taeyong;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 main.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/taeyong/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd
---------------------------------->     12 

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '124', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.100', 'pageNo': '1', 'pm10Value': '42', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '184', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.124', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '82', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.068', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '179', 'no2Value': '0.020', 'numOfRows': '10', 'o3Value': '0.122', 'pageNo': '1', 'pm10Value': '36', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '104', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.092', 'pageNo': '1', 'pm10Value': '38', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '20', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '99', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.089', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '12', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '54', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.022', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '30', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '167', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.117', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '35', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '78', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.063', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '111', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.095', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '87', 'no2Value': '0.028', 'numOfRows': '10', 'o3Value': '0.074', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD (minutes):  1
  ======>   timestamp_dt   2024-06-26 17:44:02.364516 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:44 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:44",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:44', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:44:02.538438


MySQL connection is closed
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ['# Edit this file to introduce tasks to be run by cron.', '# ', '# Each task to run has to be defined through a single line', '# indicating with different fields when the task will be run', '# and what command to run for the task', '# ', '# To define the time you can provide concrete values for', '# minute (m), hour (h), day of month (dom), month (mon),', "# and day of week (dow) or use '*' in these fields (for 'any').", '# ', "# Notice that tasks will be started based on the cron's system", "# daemon's notion of time and timezones.", '# ', '# Output of the crontab jobs (including errors) is sent through', '# email to the user the crontab file belongs to (unless redirected).', '# ', '# For example, you can run a backup of all your user accounts', '# at 5 a.m every week with:', '# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/', '# ', '# For more information see the manual pages of crontab(5) and cron(8)', '# ', '# m h  dom mon dow   command', '*/10 * * * * /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/check_pc_performance/main.py >> /home/asicentralcity3/Workspace/check_pc_performance/check_pc_performance.log 2>&1', '*/15 * * * * cd /home/asicentralcity3/Workspace/weather_forecast/ && /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/weather_forecast/main.py >> /home/asicentralcity3/Workspace/weather_forecast/forecast_weather.log 2>&1', '', '*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd', '* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']
ENTRY ENTRY ENTRY * * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd 
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 * * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/taeyong;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 main.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/taeyong/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd
---------------------------------->     12 

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '124', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.100', 'pageNo': '1', 'pm10Value': '42', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '184', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.124', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '82', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.068', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '179', 'no2Value': '0.020', 'numOfRows': '10', 'o3Value': '0.122', 'pageNo': '1', 'pm10Value': '36', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '104', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.092', 'pageNo': '1', 'pm10Value': '38', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '20', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '99', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.089', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '12', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '54', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.022', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '30', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '167', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.117', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '35', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '78', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.063', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '111', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.095', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '87', 'no2Value': '0.028', 'numOfRows': '10', 'o3Value': '0.074', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD (minutes):  1
  ======>   timestamp_dt   2024-06-26 17:45:02.297160 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:45 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:45",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:45', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:45:02.480884


MySQL connection is closed
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ['# Edit this file to introduce tasks to be run by cron.', '# ', '# Each task to run has to be defined through a single line', '# indicating with different fields when the task will be run', '# and what command to run for the task', '# ', '# To define the time you can provide concrete values for', '# minute (m), hour (h), day of month (dom), month (mon),', "# and day of week (dow) or use '*' in these fields (for 'any').", '# ', "# Notice that tasks will be started based on the cron's system", "# daemon's notion of time and timezones.", '# ', '# Output of the crontab jobs (including errors) is sent through', '# email to the user the crontab file belongs to (unless redirected).', '# ', '# For example, you can run a backup of all your user accounts', '# at 5 a.m every week with:', '# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/', '# ', '# For more information see the manual pages of crontab(5) and cron(8)', '# ', '# m h  dom mon dow   command', '*/10 * * * * /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/check_pc_performance/main.py >> /home/asicentralcity3/Workspace/check_pc_performance/check_pc_performance.log 2>&1', '*/15 * * * * cd /home/asicentralcity3/Workspace/weather_forecast/ && /home/asicentralcity3/miniforge3/envs/cc_collect/bin/python /home/asicentralcity3/Workspace/weather_forecast/main.py >> /home/asicentralcity3/Workspace/weather_forecast/forecast_weather.log 2>&1', '', '*/10 * * * *  cd /home/asicentralcity3/Workspace/airquality_data; /home/asicentralcity3/myenv/bin/python airquality_api.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/airquality_data/cronlogs.log 2>&1; cd', '* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 * * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/taeyong;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 main.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/taeyong/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd
---------------------------------->     12 

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> {'response': {'body': {'totalCount': 25, 'items': [{'cityName': '강남구', 'cityNameEng': 'Gangnam-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '001', 'itemCode': '', 'khaiValue': '124', 'no2Value': '0.018', 'numOfRows': '10', 'o3Value': '0.100', 'pageNo': '1', 'pm10Value': '42', 'pm25Value': '26', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '강동구', 'cityNameEng': 'Gangdong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '002', 'itemCode': '', 'khaiValue': '184', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.124', 'pageNo': '1', 'pm10Value': '30', 'pm25Value': '16', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '강북구', 'cityNameEng': 'Gangbuk-gu', 'coValue': '', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '003', 'itemCode': '', 'khaiValue': '', 'no2Value': '', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '', 'pm25Value': '', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '', 'totalCount': ''}, {'cityName': '강서구', 'cityNameEng': 'Gangseo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '004', 'itemCode': '', 'khaiValue': '82', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.068', 'pageNo': '1', 'pm10Value': '26', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '관악구', 'cityNameEng': 'Gwanak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '005', 'itemCode': '', 'khaiValue': '', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '19', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '광진구', 'cityNameEng': 'Gwangjin-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '006', 'itemCode': '', 'khaiValue': '179', 'no2Value': '0.020', 'numOfRows': '10', 'o3Value': '0.122', 'pageNo': '1', 'pm10Value': '36', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '구로구', 'cityNameEng': 'Guro-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '007', 'itemCode': '', 'khaiValue': '104', 'no2Value': '0.009', 'numOfRows': '10', 'o3Value': '0.092', 'pageNo': '1', 'pm10Value': '38', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '금천구', 'cityNameEng': 'Geumcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '008', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '노원구', 'cityNameEng': 'Nowon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '009', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '23', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '도봉구', 'cityNameEng': 'Dobong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '010', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.008', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '20', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '동대문구', 'cityNameEng': 'Dongdaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '011', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '동작구', 'cityNameEng': 'Dongjak-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '012', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '25', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '마포구', 'cityNameEng': 'Mapo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '013', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.012', 'numOfRows': '10', 'o3Value': '0.082', 'pageNo': '1', 'pm10Value': '33', 'pm25Value': '17', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '서대문구', 'cityNameEng': 'Seodaemun-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '014', 'itemCode': '', 'khaiValue': '99', 'no2Value': '0.013', 'numOfRows': '10', 'o3Value': '0.089', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '12', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '서초구', 'cityNameEng': 'Seocho-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '015', 'itemCode': '', 'khaiValue': '131', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.103', 'pageNo': '1', 'pm10Value': '54', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성동구', 'cityNameEng': 'Seongdong-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '016', 'itemCode': '', 'khaiValue': '136', 'no2Value': '0.022', 'numOfRows': '10', 'o3Value': '0.105', 'pageNo': '1', 'pm10Value': '39', 'pm25Value': '30', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '성북구', 'cityNameEng': 'Seongbuk-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '017', 'itemCode': '', 'khaiValue': '89', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.077', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '15', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.002', 'totalCount': ''}, {'cityName': '송파구', 'cityNameEng': 'Songpa-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '018', 'itemCode': '', 'khaiValue': '167', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.117', 'pageNo': '1', 'pm10Value': '40', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '양천구', 'cityNameEng': 'Yangcheon-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '019', 'itemCode': '', 'khaiValue': '91', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.079', 'pageNo': '1', 'pm10Value': '28', 'pm25Value': '14', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '영등포구', 'cityNameEng': 'Yeongdeungpo-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '020', 'itemCode': '', 'khaiValue': '93', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.081', 'pageNo': '1', 'pm10Value': '32', 'pm25Value': '22', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '용산구', 'cityNameEng': 'Yongsan-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '021', 'itemCode': '', 'khaiValue': '106', 'no2Value': '0.017', 'numOfRows': '10', 'o3Value': '0.093', 'pageNo': '1', 'pm10Value': '35', 'pm25Value': '24', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '은평구', 'cityNameEng': 'Eunpyeong-gu', 'coValue': '0.4', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '022', 'itemCode': '', 'khaiValue': '78', 'no2Value': '0.010', 'numOfRows': '10', 'o3Value': '0.063', 'pageNo': '1', 'pm10Value': '29', 'pm25Value': '18', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '종로구', 'cityNameEng': 'Jongno-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '023', 'itemCode': '', 'khaiValue': '111', 'no2Value': '0.016', 'numOfRows': '10', 'o3Value': '0.095', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '20', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.004', 'totalCount': ''}, {'cityName': '중구', 'cityNameEng': 'Jung-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '024', 'itemCode': '', 'khaiValue': '87', 'no2Value': '0.028', 'numOfRows': '10', 'o3Value': '0.074', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}, {'cityName': '중랑구', 'cityNameEng': 'Jungnang-gu', 'coValue': '0.3', 'dataGubun': '', 'dataTime': '2024-06-26 17:00', 'districtCode': '02', 'districtNumSeq': '025', 'itemCode': '', 'khaiValue': '116', 'no2Value': '0.015', 'numOfRows': '10', 'o3Value': '0.097', 'pageNo': '1', 'pm10Value': '31', 'pm25Value': '23', 'resultCode': '', 'resultMsg': '', 'returnType': 'json', 'searchCondition': '', 'serviceKey': '', 'sidoName': '서울', 'so2Value': '0.003', 'totalCount': ''}], 'pageNo': 1, 'numOfRows': 100}, 'header': {'resultMsg': 'NORMAL_CODE', 'resultCode': '00'}}}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD (minutes):  1
  ======>   timestamp_dt   2024-06-26 17:46:01.542381 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:46 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:46",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:46', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:46:01.723396


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['* * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 * * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/taeyong;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 main.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/taeyong/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd
---------------------------------->     12 

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '* * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD (minutes):  1
  ======>   timestamp_dt   2024-06-26 17:47:02.368123 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:47 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:47",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:47', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:47:02.540322


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/2 * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */2 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/taeyong;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 main.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/taeyong/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd
---------------------------------->     12 

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/2 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/2 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD (minutes):  2
  ======>   timestamp_dt   2024-06-26 17:48:02.365803 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:48 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:48",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:48', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:48:02.550934


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/2 * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */2 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/taeyong;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 main.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/taeyong/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd
---------------------------------->     12 

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/2 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/2 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD:  2  minutes
  ======>   timestamp_dt   2024-06-26 17:50:02.595648 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:50 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
=========> Table 'air_quality_history_final' created successfully.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:50",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:50', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:50:03.108770


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/2 * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */2 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/taeyong;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 main.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/taeyong/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd
---------------------------------->     12 

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/2 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/2 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD:  2  minutes
  ======>   timestamp_dt   2024-06-26 17:52:02.082427 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:52 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:52",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:52', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:52:02.243118


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/2 * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */2 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/taeyong;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 main.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/taeyong/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd
---------------------------------->     12 

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/2 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/2 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD:  2  minutes
  ======>   timestamp_dt   2024-06-26 17:54:01.973288 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:54 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:54",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:54', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:54:02.155903


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/2 * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */2 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/taeyong;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 main.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/taeyong/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd
---------------------------------->     12 

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/2 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/2 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD:  2  minutes
  ======>   timestamp_dt   2024-06-26 17:56:01.846422 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:56 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:56",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:56', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:56:02.030764


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/2 * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */2 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/taeyong;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 main.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/taeyong/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd
---------------------------------->     12 

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/2 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/2 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD:  2  minutes
  ======>   timestamp_dt   2024-06-26 17:58:01.597844 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 17:58 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 17:58",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 17:58', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 17:58:01.781007


MySQL connection is closed
======================================================== 0. READ AND PARSE CRONTAB COMMANDS ========================================================

PRE_PARSED CRONTAB COMMANDS ['*/2 * * * *  cd /home/asicentralcity3/Workspace/taeyong; /home/asicentralcity3/myenv/bin/python main.py 서울 반포동 HOUR>> /home/asicentralcity3/Workspace/taeyong/cronlogs.log 2>&1; cd ']

........................................   Parsing Cron Tab Entries Array   .........................................

---------------------------------->     0 */2 * * * *
---------------------------------->     1 
---------------------------------->     2 cd
---------------------------------->     3 /home/asicentralcity3/Workspace/taeyong;
---------------------------------->     4 /home/asicentralcity3/myenv/bin/python
---------------------------------->     5 main.py
---------------------------------->     6 서울
---------------------------------->     7 반포동
---------------------------------->     8 HOUR>>
---------------------------------->     9 /home/asicentralcity3/Workspace/taeyong/cronlogs.log
---------------------------------->     10 2>&1;
---------------------------------->     11 cd
---------------------------------->     12 

 ------> 소재지 TM 좌표 조회 Status Code: 200
===============================================================================================================
1. 소재지 기준 TM 좌표 찾기
================================================================================================================
{
    "response": {
        "body": {
            "totalCount": 1,
            "items": [
                {
                    "sggName": "서초구",
                    "umdName": "반포동",
                    "tmX": "199997.934625",
                    "tmY": "444638.69207",
                    "sidoName": "서울특별시"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10000
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}
=====================================================   API 결과 처리 및 PARSING 후 JSON에 저장완료   ==============================================================================

{'schedules': '*/2 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
------> 근접측정소정보 Status Code: 200

===============================================================================================================================================


2. 근접 측정소 조회
============================================================================================================================================


{
    "response": {
        "body": {
            "totalCount": 3,
            "items": [
                {
                    "stationCode": "111262",
                    "tm": 0.8,
                    "addr": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
                    "stationName": "서초구"
                },
                {
                    "stationCode": "111242",
                    "tm": 2,
                    "addr": "서울 동작구 사당2동 739 이수역 북단 버스중앙차로",
                    "stationName": "동작대로 중앙차로"
                },
                {
                    "stationCode": "111263",
                    "tm": 2.2,
                    "addr": "서울 강남구 도산대로 104 신사역2번출구 앞",
                    "stationName": "도산대로"
                }
            ],
            "pageNo": 1,
            "numOfRows": 10
        },
        "header": {
            "resultMsg": "NORMAL_CODE",
            "resultCode": "00"
        }
    }
}



================================================================================================================

 3. 대기오염통계 for 서울 서초구 신반포로15길 16 반포 2동 주민센터 API Status Code: 200

================================================================================================================


{'schedules': '*/2 * * * *', 'city': '서울', 'dong': '반포동', 'timeFrame': 'HOUR', 'venv_path': '/home/asicentralcity3/myenv/bin/python', 'script_path': '/home/asicentralcity3/Workspace/taeyong/main.py', 'cronlog_path': '/home/asicentralcity3/Workspace/taeyong/cronlogs.log', 'nearby_count': 3, 'TM_X': '199997.934625', 'TM_Y': '444638.69207', 'address': '서울 서초구 신반포로15길 16 반포 2동 주민센터', 'stnName': '서초구', 'tm_distance': 0.8, 'API_Fetch_Period': '', 'Last_DB_WriteTime': ''}
================================================================================================================
기록된 JSON 데이터:
[
    {
        "Timestamp": "2024-06-26 17:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
======================================================== Timestamp 처리 ========================================================

BATCH PERIOD:  2  minutes
  ======>   timestamp_dt   2024-06-26 18:00:03.218453 <class 'datetime.datetime'>
  ======>   before update json   2024-06-26 17:00 <class 'str'>
  ======>   after update json   2024-06-26 18:00 <class 'str'>
================================================================================================================================

======================================================== DB CONNECTION ========================================================

DB Name: main_centralcity, Database user: centralcity_collector, Host: 218.50.4.180, Port: 3306


==> Connected to MySQL database


======================================================== CREATING TABLE ========================================================
==> Table 'air_quality_history_final' already exists. Skipping creation.
================================================================================================================================



======================================================== INSERTING DATA ========================================================
[
    {
        "Timestamp": "2024-06-26 18:00",
        "District_Name": "서초구",
        "Station_Address": "서울 서초구 신반포로15길 16 반포 2동 주민센터",
        "Station_Code": "111262",
        "Station_TM": 0.8,
        "PM25_Value": "20",
        "Khai_Value": "131",
        "SO2_Value": "0.003",
        "CO_Value": "0.3",
        "PM10_Value": "54",
        "NO2_Value": "0.017",
        "O3_Value": "0.103"
    }
]
================================================================================================================
Constructed SQL Query: 
        INSERT INTO air_quality_history_final
        (Timestamp, District_Name, Station_Address, Station_Code, Station_TM, PM25_Value, Khai_Value, SO2_Value, CO_Value, PM10_Value, NO2_Value, O3_Value)
        VALUES 
        (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        ON DUPLICATE KEY UPDATE 
        District_Name = VALUES(District_Name), 
        Station_Address = VALUES(Station_Address), 
        Station_Code = VALUES(Station_Code), 
        Station_TM = VALUES(Station_TM), 
        PM25_Value = VALUES(PM25_Value), 
        Khai_Value = VALUES(Khai_Value), 
        SO2_Value = VALUES(SO2_Value), 
        CO_Value = VALUES(CO_Value), 
        PM10_Value = VALUES(PM10_Value), 
        NO2_Value = VALUES(NO2_Value), 
        O3_Value = VALUES(O3_Value)
        
Values to be inserted: ('2024-06-26 18:00', '서초구', '서울 서초구 신반포로15길 16 반포 2동 주민센터', '111262', 0.8, '20', '131', '0.003', '0.3', '54', '0.017', '0.103')

 ==== DB INSERT ===> 1 records inserted successfully into air_quality_history table at timestamp 2024-06-26 18:00:03.405910


MySQL connection is closed
